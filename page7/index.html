<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Triple Eh? &middot; 
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/Boing.png">
  <link rel="shortcut icon" href="/public/Boing.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-09">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Triple Eh? Ltd.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Blog</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">Archive</a>
        
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
	
		<span class="sidebar-nav-item">Follow me:</span>
		<a class="sidebar-nav-item" href="https://twitter.com/Triple_Eh_Ltd">- Twitter</a>
		<a class="sidebar-nav-item" href="https://www.youtube.com/channel/UC6H2Ql7vVE4hHc-GNkMK8bQ">- You Tube</a>
		<a class="sidebar-nav-item" href="https://www.twitch.tv/tripleeh">- Twitch</a>
		<span class="sidebar-nav-item">Games:</span>
		<a class="sidebar-nav-item" href="http://play-lumo.com/">- Lumo</a>
		<span class="sidebar-nav-item">Web:</span>
		<a class="sidebar-nav-item" href="http://triple-eh.com">- Triple Eh?</a>
		<span class="sidebar-nav-item">Feed:</span>
		<a class="sidebar-nav-item" href="https://triple-aye.net/atom.xml">- Atom Feed</a>
  	<a class="sidebar-nav-item" href="https://triple-aye.net/feed.json">- JSON Feed</a>
   </nav>


  <div class="sidebar-item">
    <p>
      &copy; 2019. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">
							<img style="border:none" src="/images/te_logo.png"/>
						</a>
            <small></small>
          </h3>
        </div>
      </div>
		

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://triple-aye.com//2017/04/08/Devlog-08.04.17/.html">
        Devlog - 08.04.17
      </a>
    </h1>

    <span class="post-date">08 Apr 2017</span>

    <p>Zelda has been pushed to the back-burner, I’ve been to the UK for a trade show, and started up a new consultancy gig. Even found some time to do some programming…</p>

<h2 id="eurogamer-rezzed">Eurogamer: Rezzed</h2>

<p>I’ve not been to Rezzed in four or five years, but I can safely say that it’s my favourite “trade” show. It’s far more chill than the Expo, and there are plenty of opportunities to 
catch up with Developers, ask them techie questions, and get the shizz on who’s getting published by whom, and where the funding’s at. Eurogamer also do a good range of panel discussions, 
which are great to watch, and what with it being in central London, getting ruinously drunk in the evening is entirely possible.</p>

<p>It’s hard to pick stand-outs at shows like these, but ExoOne and Tokyo 42 were the two that got me, and were by far the best looking Unity developed games at the show. I 
know it doesn’t matter what engine a game is written in, but having spent 2 days walking around it was incredibly obvious - for the most part - who was using what. Unity on the
Nintendo Switch looking rough as balls (Overcooked was running at 15-20fps at points) and there were many many tales of people having the same problems as I had, while shipping Lumo. So I did leave the 
show thinking that I’d made the right choice moving to UE4, and Epic having a large presence at the venue definitely didn’t hurt that.</p>

<p>And if Snake Pass really was ported to Switch in a week, well, I’m looking forward to begging Nintendo for some Devkits toward the end of the year… :D</p>

<p>I didn’t show anything, or talk to publishers this time around. It was just nice to go to a show with no pressure and mooch around. My Zub t-shirt had its first public airing. :D</p>

<h2 id="new-gig">New Gig</h2>

<p>I’ve picked up some consultancy work with a start-up in Helsinki. Can’t say much about it atm, but that’s one or two days a week helping them get going with their project. It’s time away from 
doing my own stuff, but extra cash in the bank is never a bad thing, and I’m working in an area I’ve not really touched before, so a few things to learn.</p>

<h2 id="neutrino">Neutrino</h2>

<p>You’d think with all the planes and trains I’ve been on this month, I’d have done more, but it turns out that in my excitement at getting exit row seats on the plane, I forgot that no bags are allowed to be stashed and the table barely 
holds a cup, let alone my laptop. But I did manage to do a few things.</p>

<p>I’ve put in the various game states so Neutrino moves through the splash-screen, “main menu”, and into a test level, and finished off the saving of tilemaps to a binary file. I can load this, and I can create a static 
VBO that holds the tile-data. But I’ve not quite got it all hooked up so the level is being displayed. That’s the next job.</p>

<p>Most games have several versions, Debug and Release being the most common. Normally these will do slightly different things: Debug will have more integrity checks, print out more logging information, and may even contain different modes 
(none of Neurino’s editors, for example, are even compiled into the release build).</p>

<p>Release, as the name suggests, is normally what gets shipped to the players. To date I’ve only ever been working in Debug builds, so I thought it was about time 
that I checked out how the release build was getting on… And the good news is, excellently! I’d made a couple of mistakes with some #ifdef wrapping, but once fixed, Release was up and running in a couple of minutes. I’m mildly 
surprised about that.</p>

<h2 id="next-game">Next Game</h2>

<p>Work’s been a bit stop/start, but quite a lot’s been done. The bulk of the effort has been working on the game-flow: at launch the game presents a little splash-screen with the company logo on, which nicely fades into the main 
menu. From there, you can jump into the first level, or quit out to the desktop. In-game it’s now possible to pause (in single player) and the level’s exit teleporters will take control away from the player and 
present an end of level stats screen, showing score, items collected, time taken and any bonuses earned, etc.</p>

<p>This was a good exercise and I uncovered a few things: for a start, I’m still not using the various game and player state classes correctly. Things like the inventory are currently in my Player Controller, and should
be in the Player State class. Level pick-ups and secrets aren’t being tracked in the Game State class, but by the player or individually. All of this comes back to UE4 being opinionated about how to structure the 
game, and I’m still learning that stuff. What I have “works”, but will be completely broken in a networked game.</p>

<p>I’m at the point now - having basically got my head around how to do the single player stuff - that I’m going to refactor the bits I’ve got wrong, and then make a start on the network replication. I’ve no idea how to handle 
the lobby system, or picking game-modes, but if I can get the players, weapons, projectiles and pick-ups replicating, that puts me in a good position to then start on the AI. I can work the rest out later.</p>

<p>I also discovered that it was possible to have a static library of C++ functions you could provide to Blueprints, but despite this working well for a few days it eventually started to give me 
build errors, complaining that things were compiled with out-of-date outers (or something). I’ve no idea what this meant, and I’m starting to become more and more distrustful of Blueprints in general. They’re ok for little 
throw-away things, but even doing the UI flow in them was tedious. Debugging them is an absolute nightmare…</p>

<p><a href="https://www.youtube.com/playlist?list=PLqfZolvobgUADL9xLhimuX3TQONLZGJO5">51Daedalus</a> is giving a serious of lighting lectures over on his You Tube channel. I can highly recommend these, as I’ve learned a lot from the 
few hours he’s already done, including a lovely little trick for faking volumetric light areas (which I’ve nicked and slapped all over my test level). I think lit particles and these sorts of faked volumetric tricks 
are going to be really important, in Next Game. Some of the best looking stuff at Rezzed was doing of a lot of this for atmosphere, so it’s something I’m really keen to try and learn.</p>

<p>Also, a shout out to the Unofficial Unreal Discord Community: <a href="http://unrealslackers.org/">Unreal Slackers</a> I’ve been able to get a few questions answered, and people seem nice and friendly. It’s good to be able to bounce 
stuff off other developers now and again.</p>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://triple-aye.com//2017/04/08/Devlog-17.03.17/.html">
        Devlog - 17.03.17
      </a>
    </h1>

    <span class="post-date">08 Apr 2017</span>

    <p>The flip-side to blogging about my progress is that you get to see the occasions where I’ve not been massively productive. So I’m going to waffle on about what’s really had its hooks in me over the last couple of weeks…</p>

<h2 id="zelda-breath-of-the-wild">Zelda: Breath of the Wild</h2>

<p>Of course I bought a Nintendo Switch at launch!</p>

<p>I’ll probably find some time to talk about the device over on my personal blog, for it is perfect in many, many ways, but Zelda? Wow, what a game. 
“Not much” has been done since it came out and this week I basically gave up any pretence of getting work done. It’s been time very well spent…</p>

<p>During the middle part of Lumo’s development I completed Link Between Worlds. That was a bit of a double-edged sword at the time, as, naturally, I started to become influenced by what I was playing. 
I have pages of notes about things to do in “dungeons”, but Lumo wasn’t ever that sort of game. Overlaid systems design — things that work well across multiple rooms &amp; outer-world based travel, for 
example — wouldn’t be introduced to the genre until the Pickford brother’s Equinox, and I was determined to stick as closely to the confines defined by Jon Ritman’s early work as possible, 
and then poke out in directions from there…</p>

<p>(Lumo would have been “better” if the scope was wider, but, honestly, that was never really the point.)</p>

<p>Because of this (and with the exception of the occasionally mooted “Lost Levels”) it’s been obvious since the start that any spiritual sequel to Lumo would move more toward Zelda’s 
dungeons and away from the bespoke, single room designs. Not because the genre necessarily dictates it — although it is a natural progression — but because it’s the thing I want to make. 
It’s the direction that I’d have taken it, back in the ‘90s. It’s also exactly the design pattern that Nintendo have moved away from…</p>

<p>—</p>

<p>Having grown up in the ’80s I’m a student of the Arcades, and I came of age with the SNES. Systems design is important. The best game mechanics are simple systems, confined by a set of rules, 
that are obscured from the player by the machine. Their rules may evolve, slowly, over time, but the player is always encouraged to explore these confines, to learn the rules, through play. 
Great games — for me — are not about story, or narrative (although these may work well to support an overall theme) but about sets of systems that encourage and allow for the player to create 
their own experiences. To make “stories” in their head. Some of these stories will be to mentally explain a system’s ruleset. Others will be entirely unique to the player, based on how they interpret 
and apply their ‘abillities’ through play.</p>

<p>I was lucky enough to work with teams that understood this — Crackdown and Fable spring to mind — but I’ll never forget one meeting, where the publisher’s large and expensive writing team tried to “fix” 
our proposals by spending several hours arguing over the feelings and motivations of the NPCs in the world. The player wasn’t even mentioned once. I fucking hate this about modern, predominantly western, 
AAA games, and I could explain it succinctly with an animated gif I saw on Twitter, that I stupidly didn’t save. It showed Lara Croft climbing up a cliff as a thunder storm raged, and then cut away to the 
same design, done in the style of an Atari VCS. Lara dodges a rock, lightning strikes, it looks and sounds amazing, she says something to herself (the player) … and the dot on the VCS moves right one space, 
before slowly continuing up, along its pre-determined path.</p>

<p>When I play games I just see the dot.</p>

<p>Zelda has several easily understood systems that are very robustly engineered. This has given Nintendo license to let the player explore them deeply, and not worry about too much about unintended consequences. 
If anything, I think they’re fully aware of some of the exploits and are happy for you to use them (the hidden Koroks give the game away), but how these are applied in the world, and more importantly, how Nintendo 
nudge you toward their uses, will be studied for quite a while. At least by me.</p>

<p>Probably the simplest example is cooking — something I never normally like in games — a self-determined means to buff (as well as heal), whose different ingredients are distributed over every region of the map. 
It’s only possible to uncover all the recipes through extended play, but that 20 minute break to cook everything you’ve foraged over the last couple of hours becomes an enjoyable, repeatable ritual. I’m 50 hours 
in and I’m still making new things, and more importantly, I still want to see what I can do with it. The world design backs up this system’s rules: There will always be something spicy growing halfway up a mountain. 
Melons grow in hot regions, and their watery content will cool you. The body parts of electric Krese can be made into an elixir that provides shock protection. It’s simple, easy to break down — trivial when you look 
at it — but the player groks it with very little conscious thought. Only one example of how to combine these things for a given end is provided, but it’s enough to explain that experimentation is key, so off you trot, 
try and shoot every animal, and cook everything you see. I’m reminded of Minecraft’s crafting table.</p>

<p>Another easy example is Link’s stamina. You can run, climb or cling onto your para-glider for a short-period of time via a button press, and a simple UI shows the drain on your stamina. But Breath of the Wild 
is an enormous world that requires exertion to explore. Even the short-cuts to travel — tame animals — require a certain level of stamina in order to bring them under your control. And you’re encouraged to ignore 
these limitations by cooking up elixirs that will replenish your stamina whenever you need it.</p>

<p>My first few hours were all about cheating this “artificial limitation”. Pockets full of potions, I was desperate to run to the horizon and climb everything I could see, which is entirely possible as soon as you 
leave the starting plateau. Can you imagine how much better World of Warcraft, or Guildwars 2 would be if you could climb ANY mountain you could see? And when you got to the top there’d be a hidden Korok, or a mini-boss, 
or even just a breakable rock containing a diamond, waiting for you? Vista after vista unfolds, reinforcing a sense of place, and by the end-game, when you’ve powered this system up, you’re no longer taking your time, 
mapping out a safe route up the mountain, but leaping and bounding to the top with barely a care in the world. It feels a bit Crackdown-y, and makes a compete fucking mockery of Assassin’s Creed. 
Stamina moves from a game-y limitation to something empowering in the space of a few hours. And you should see the horses I have now…</p>

<p>Combat stays closest to the old Zelda way of doing things (from an interaction point of view) but even that has been completely over-turned. The traditional Z-Lock, jumps and doges are there, but now with weapons that are breakable.</p>

<p>On the face of it, breakable weapons should be a design faux pas best left to the F2P market, but the way it’s been applied is entirely logical within the context of the rest of the world. 
Each region’s NPCs have different weapons, some many times stronger than others, and if you’re like me and you’ve Leeroy’d off into the distance, one hit kills will be rife. Disarmed NPCs will run to 
whatever is lying on the ground and use it to attack you (even their fallen comrades, in some cases), but this is exactly Nintendo’s expectation for the player: Pick up the weapons that you see lying around. 
You’re a scavenger, as well. Save your best ones for the larger foes, and use a branch for the pests. You can even sneak into a camp to steal enemy weapons before they see you, meaning any resulting fight will 
be comically one-sided. Simple, easily understood, but with the benefit of giving real meaning to some of the items you discover. (And if you have a favourite, keep hold of it, as you can repair it by letting an Octorock eat it!)</p>

<p>There’s example after example of how the rules for the player are applied — designed — with thought to the other interactive elements in the world. Even the mechanic for taming a horse can be used with other animals you find in the wild. Want to rock-up riding a glowing Stag, or a Bear? Well, you can. Experiment. Explore.</p>

<p>The areas I love most though, and the thing I’d steal in a heart-beat, are the Shrines. (Oddly enough, the closest thing to what I wanted to do, but couldn’t, with the rooms in Lumo…)</p>

<p>Shrines in BotW serve multiple purposes. They act as fast-travel waypoints. The Spirit Orbs you collect from them are the means to more hearts and stamina. They act as bespoke puzzle and combat arenas, 
replacing the monolithic dungeon designs of Zeldas-past. And for me, they became the biggest driver to explore the world, safe in the knowledge that if I could just get to that orange glow, 
I’d be able to return at some later point.</p>

<p>The shrines are often just one or two puzzle ideas, beautifully crafted, but on a grander scale than you’d get in previous Zelda dungeons. A 20–30 minute diversion, often toying with the physics 
engine, that serve to distil the sort of inventiveness we only see when the Nintendo’s design-team is firing on all cylinders. I absolutely fucking love them, and the way you can dip in-and-out of 
them as a break from whatever you’re doing, makes them a constant, compelling, distraction.</p>

<p>And perhaps that is Breath of the Wild’s greatest strength. Open world games have always tried to distract you, but at their core has been the constant nagging of NPCs, and the gentle redirection back 
onto the “Golden Path”. Fable 2 — OK, not an “open world” game in the sense of GTA — took it so far as to manifest the Golden Path in the world itself (!) but BotW just does not care. At no point do I 
feel the need to “do” the “game”. I’m allowed the freedom to explore anywhere, at any point, to make of my avatar what I want. And even when I do sit down with the express desire to get back onto the 
main-quest, I invariably end up doing something entirely different. Nearly every NPC in the game is intent on sending you off, away, from the Golden Path. The number of half finished sub-quests I have 
is insane and I justkeep uncovering more.</p>

<p>On one of these diversions I saw Farosh…</p>

<p>I spend the first few weeks of my design lectures trying to explain what a game mechanic is by breaking down “systems”. Why systems design and implementation is the real meat-and-potatoes of a 
great development team, not story or “ideas”. About how to communicate things in-world, without text, and why that’s more important than the things we explain to a player verbally. How you can 
reward styles of play through the simple placement of “secrets”, how the player’s experimentation and mastery of things provides them ownership over the experience. I’m constantly pulling from 
Nintendo’s back catalogue for examples of all this, but now I could pretty much re-write the entire course and just use Breath of the Wild. I’ve not even spoken here about the camera, the slate’s 
powers and how these manifest differently across the “world” and the “dungeons”. It all makes me a little breathless at times. :D</p>

<p>Personally, I think it takes monumental brass-balls to be as confident in what you’ve made as this, to let go, to let the player just be. Many, many aspects of BotW will be copied in the future 
(I’ll be nicking stuff), but this is a game I’m worried could only be made in Japan, and now Kojima is off, probably only by Nintendo. I cannot see any Western publisher funding the level of
experimentation and iteration that’s required to design and implement these mechanics, this world, so robustly. To eschew business model (for the most part, DLC and Amiibos <em>cough</em>) and trust in 
quality. Certainly not on a scale as grand and as beautiful as this.</p>

<p>That’s a fucking shame, really, isn’t it?</p>

<p>Anyway, I’ve got that Friday feeling, and I’ve only one Divine Beast left to do.</p>

<p>Maybe a quick go before I get back to doing some real work. Next week…</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://triple-aye.com//2017/03/08/Devlog-08.03.17/.html">
        Devlog - 08.03.17
      </a>
    </h1>

    <span class="post-date">08 Mar 2017</span>

    <p>Early update, this time, as I’m off to the UK for a wedding. Because of that – and because I’m meeting up with a friend 
who’s helping me with some concept art – it’s been a race-to-make-a-face since my last post.</p>

<h2 id="next-game">Next Game</h2>

<p><a href="/images/2017-03-08-TestLevel_Courtyard2.jpg"><img src="/images/2017-03-08-TestLevel_Courtyard2.jpg" alt="Screenie" /></a></p>

<p>The second iteration of the test level is basically done. As I said, it’s super chunky and super low-poly, but it looks a lot better than my 
first iteration. And I can get very dark areas, as well as very light areas. Pretty important for a Quake-a-like.</p>

<p>Although this scene is essentially outdoor, I don’t actually think I’ll do that in many of the levels. My plan for most of it is 
to do something darker and not as well lit, but for the purposes of a test I just wanted to see if I could do both. So I’ve aped a bit of the 
Quake 1 start thing, and done an imaginary “intro” level.</p>

<p>There’s a lot wrong with it; the scale is on the, er, large side – but the minute you start rocket jumping that’s less of a problem –  there’s a lack of secondary motion – wibbly grass, lights swaying, stuff like that – 
and hardly any props to dress the scene. Although the colours work for me, a bit more detail would definitely help.</p>

<p>I’m not too bothered about all this atm, the main function 
of the test was to find a workflow that’s quick enough to let me bang out [reasonably] good looking geometry, and the lack of texturing definitely helps that. I’ve
gone from zero to a level I can run around, in 8 days. And half that time’s been trying to understand lighting.  Nearly all the missing things 
will happen over time and I can dress the scenes with more props as and when I make them. It’s how I worked the environment in Lumo.</p>

<p>I’m still toying with the idea of bevelling the larger geometry pieces as 
the extra edges would play in the light. Nintendo do this all the time in Mario and Zelda, so it might be worth a test…</p>

<p>Anyway. After the mild depression at going down the wrong path and throwing out a couple of week’s work, this whole exercise turned out to be super useful. The untextured “matte” look forced me to work out how the baked lighting is applied, especially 
when the various shadow schemes are thrown into the mix. There’s no where to hide so setting this up was a lot of trial and error, not helped by the 
fact that my lighting build-quality was set to “preview” for God knows how long. That flushed out lots of stupid things, but derp. Fucking idiot, etc.</p>

<p>The Modo side of things has been great, although it took me a long time to uvunwrap for clean bakes.  Initially I was just ignoring it, letting the UE importer 
generate the lightmaps and then wondering why I had dirty big splotches everywhere. Then I started adding a second UV channel in the model to mitigate, 
which gives some control over how the model parts are split. But the real-trick, which it took me a couple of days to clock-on to, is making sure edges/verts 
are clamped to texel boundaries. In Modo this is trivial, you can set the UVGrid to 1/64, and then use the snapping tool to make sure that edges/verts are all 
nice and clean. It’s a bit handraulic, but if done right, a one shot deal.  I think.</p>

<p>I still have some light-bleeding in parts of the level, but this is either where I’ve not added an edge to the wall (one model) where it meets the floors 
(a different model), or have a polygon that extrudes through the wall, so catches the light and the dark. The second issue is just me not knowing what I was<br />
doing at the start and then being too lazy to go back in and fix it. You can see it on the window frames.</p>

<p>I’ve also had a good play around with Cascade, and although I don’t feel as confident with it as Unity’s particle system, I’m able to do the basics. The same 
can be pretty much said for the material editor. I’m hoping to pick stuff up via osmosis and concentrate on the big things for the foreseeable.</p>

<p>Code-wise, I don’t think I’ve had any problems. I’ve even started doing a few things – the on screen messages for example – in Blueprints. Quick and dirty is, 
as Quick and Dirty does, and all that.</p>

<p>I’ve stuck a little video of all this up on You Tube. It should go without saying that the Quake 1 sound effects won’t be there for long, and everything is liable 
to change. It’s heading in the right direction, though.</p>

<div style="text-align: center"><iframe width="560" height="315" src="https://www.youtube.com/embed/gxeUt0OoUMo" frameborder="0" allowfullscreen=""></iframe><p>&nbsp;</p></div>

<p>Click screenies to enbiggen.</p>

<p><a href="/images/2017-03-08-TestLevel_Underground.jpg"><img src="/images/2017-03-08-TestLevel_Underground.jpg" alt="Screenie" /></a></p>

<p><a href="/images/2017-03-08-TestLevel_TP1.jpg"><img src="/images/2017-03-08-TestLevel_TP1.jpg" alt="Screenie" /></a></p>

<p><a href="/images/2017-03-08-TestLevel_Armour.jpg"><img src="/images/2017-03-08-TestLevel_Armour.jpg" alt="Screenie" /></a></p>

<p><a href="/images/2017-03-08-TestLevel_Corridor2.jpg"><img src="/images/2017-03-08-TestLevel_Corridor2.jpg" alt="Screenie" /></a></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://triple-aye.com//2017/02/24/Devlog-24.02.17/.html">
        Devlog - 24.02.17
      </a>
    </h1>

    <span class="post-date">24 Feb 2017</span>

    <p>Oops, I missed a week and the devlog is late. Sorry! Game Dev and all that. Shipping late’s what we do…</p>

<p>I put off posting as I was hopeful that I’d have something nice to show, but things haven’t quite worked out as planned:</p>

<h2 id="next-game">Next Game</h2>

<p>I added a damage effect –  the “damage beans” – on the screen edges to indicate that the player’s been hurt. It’s a simple post-process overlay, but with a normal map  added you get a nice distortion of the 
screen as it fades in and out. Standard stuff for the most part. Except I have two versions, one that’s a blood-splat, and one that’s a nice high-res picture of actual baked beans. :D</p>

<p>I’ve also had a quick play with the audio system in UE4. My natural inclination is to integrate FMOD, but I’m hearing from fellow developers on Mastodon that UE4’s system is pretty good, and from the quick tests 
it might well be. Audio attenuation and geometry occlusion definite seem to work, which could be enough for what I need.</p>

<p>But for the last 10 days or so I’ve been playing around with look and feel tests.</p>

<p><img src="/images/17.02.17-SkyBox.jpg" alt="Nice skies" /></p>

<p>This skybox got me into a lot of trouble.</p>

<p>My intention with Next Game is to do everything quite low-poly and avoid as much texturing as possible. One reason for that is to look different, but texturing and modelling 
take time, and time/money aren’t something that I have a lot of. If I have to get into texturing then I’d probably go for something old-school, like Gibhard or Strafe, but for obvious reasons I’d like to avoid that. 
I think every man and his dog will be doing that style in a year or two…</p>

<p>Unfortunately having a super realistic skybox lead me down a path where geometry got a bit too complex, and things rapidly looked incongruous when flat-shaded with high quality lighting. Basically, I couldn’t get it to look good unless it was
extremely high-contrast. Which was unplayable. Although, I did spend a day flirting with an entirely black-and-white grading that I might go back to for some levels.</p>

<p>Anyway, I’ve thrown away all that work. All the geometry modelled so far, the test level, the greybox, all the materials and all the textures. That stung a bit.</p>

<p>This week I started again, but from a better footing: I chose a nice, harmonious, palette, and put a simple gradient in the sky-box. The palette is very limited: four base colours, four shades of each colour, and a gradient from top to bottom of each colour. I’ll 
most likely add to that over time, but for now this is working well.</p>

<p>UV-unwrapping can be done extremely quickly. Anything single colour can just be atlas unwrapped and pushed over the appropriate shade in the texture, while things with gradients just need a little 
more attention to align them properly. Because the palette is fixed, everything sits in the scene, and with some lightmass settings tweaked I’m getting really rich colour gradients, colour bounces being picked up and 
deep shadows. It looks better, basically. It’s also super colourful, to the point of being cartoony – far too much for this game – but I find it easier to turn everything up to 11 and then slowly dial it in over time. (Early screenshots of Lumo are
practically black because I was shooting for a Scooby-Doo vibe. The final game looks nothing like it…)</p>

<p>What needs sorting out now is the correct scale for things. My character moves extremely quickly, and rocket jumps go for miles. This will take a bit of two-and-fro, but that’s next week’s mission. At the minute everything’s a little too big but I find it quite endearing. Iterate, iterate.</p>

<h2 id="neutrino">Neutrino</h2>

<p><img src="/images/2017-02-19-TilemapAddRemove.png" alt="Tilemap Editor" /></p>

<p>Still train-coding my way through this and the big news is, the tile map editor that I said I’d never write is basically done. It’s missing the ability to create re-usable brushes from placed tiles, so I might go back and add that at some point, but bar some tidying up and 
deciding on the save format it’s doing what I’ll need.  This threw up a couple of interesting things.</p>

<p>I was about to delve into the murk of C’s directory and file-handling, which is annoyingly different depending on the platform, but decided to have a quick search through Github to see what was already out there, and came across this little gem: <a href="https://github.com/cxong/tinydir">Tinydir</a>, 
 works brilliantly.</p>

<p>While testing the tilemap editor I thought I’d throw in some massive numbers to see how it performed. Turns out things started crawling pretty quickly, which was er, a shock. After pushing it through Richard Mitton’s <a href="http://www.codersnotes.com/sleepy/">Very Sleepy</a> 
the hot spot seemed to be in how I’m populating the VBOs, which again, was a bit of a surprise. This was supposed to be an optimised version of what I’d written a few years back on iOS…</p>

<p>For some reason I was only getting ~8k sprites per frame. I was expecting quite a few more. The culprit was this line:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mTransform = mTranslate * mRotation * mScale;
</code></pre></div></div>

<p>Pretty standard stuff, this is just creating the translation matrix which I’m pushing all my vertices through before copying the result into the VBO. (Yes, at some point I should just do all that into the shader…)  I’ve done this before and had much better performance, 
except then I was using my own math class, and this time I’m using <a href="http://glm.g-truc.net/0.9.8/index.html">OpenGL Math</a>. I figured it’d  be better to pass off the optimisation and maintenance of my maths stuff to, well, people that know some maths.</p>

<p>So I dug into the operator * overload:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GLM_FUNC_QUALIFIER tmat4x4&lt;T, P&gt; operator*(tmat4x4&lt;T, P&gt; const &amp; m1, tmat4x4&lt;T, P&gt; const &amp; m2)
{
	typename tmat4x4&lt;T, P&gt;::col_type const SrcA0 = m1[0];
	typename tmat4x4&lt;T, P&gt;::col_type const SrcA1 = m1[1];
	typename tmat4x4&lt;T, P&gt;::col_type const SrcA2 = m1[2];
	typename tmat4x4&lt;T, P&gt;::col_type const SrcA3 = m1[3];

	typename tmat4x4&lt;T, P&gt;::col_type const SrcB0 = m2[0];
	typename tmat4x4&lt;T, P&gt;::col_type const SrcB1 = m2[1];
	typename tmat4x4&lt;T, P&gt;::col_type const SrcB2 = m2[2];
	typename tmat4x4&lt;T, P&gt;::col_type const SrcB3 = m2[3];

	tmat4x4&lt;T, P&gt; Result(uninitialize);
	Result[0] = SrcA0 * SrcB0[0] + SrcA1 * SrcB0[1] + SrcA2 * SrcB0[2] + SrcA3 * SrcB0[3];
	Result[1] = SrcA0 * SrcB1[0] + SrcA1 * SrcB1[1] + SrcA2 * SrcB1[2] + SrcA3 * SrcB1[3];
	Result[2] = SrcA0 * SrcB2[0] + SrcA1 * SrcB2[1] + SrcA2 * SrcB2[2] + SrcA3 * SrcB2[3];
	Result[3] = SrcA0 * SrcB3[0] + SrcA1 * SrcB3[1] + SrcA2 * SrcB3[2] + SrcA3 * SrcB3[3];
	return Result;
}
</code></pre></div></div>

<p>Ow. That’s creating a lot of vec4 variables over the course of a few thousand sprites.</p>

<p>I admit, I’m learning GLM as I go, and maybe there’re some functions to do mat4 multiplications in place but the docs make my nose bleed, and to be honest I couldn’t be arsed to trawl through it all.</p>

<p>So instead of using a glm::mat4, my matrix is now a simple array, allocated at the start of the function, that only contains the scale and rotation. I can push the sprite corners through this 
and add the translation, and remove a lot of obviously zero multiplications from the process.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vBL.x = (vBL_Pos-&gt;x * s_mTransMat[0]) + (vBL_Pos-&gt;y * s_mTransMat[1]) + vPos-&gt;x;
vBL.y = (vBL_Pos-&gt;y * s_mTransMat[3]) + (vBL_Pos-&gt;y * s_mTransMat[4]) + vPos-&gt;y;
vBL.z = vPos-&gt;z;

etc. etc. 

</code></pre></div></div>

<p>This is fine for 2D stuff, which is all I intend to use this engine for.</p>

<p>And the result? About a 15x speed-up. In fact, I get exactly the same number of sprites out of a single thread on my X1 laptop, as I do on my big fat devrig: ~150k @ 60fps.</p>

<p>I’ll probably look to multi-thread this once the physics engine and fmod have been integrated, but for now it’s more than good enough for a little shoot-em-up.</p>

<p>The moral of the story: Future Gareth, you should probably look into how to use GLM properly.</p>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://triple-aye.com//2017/02/03/Devlog-03.02.2017/.html">
        Devlog - 03.02.2017
      </a>
    </h1>

    <span class="post-date">03 Feb 2017</span>

    <p><img src="/images/17.02.03-DecalsTest2.jpg" alt="Hello Mum" /></p>

<p>It’s been a mad-cap couple of weeks. Here’s what I’ve been up to:</p>

<h2 id="lumo">Lumo</h2>

<p>Yesterday I pushed out version 1.17.2, to fix issues found with wireless Xbone pads running on Windows 7. Thanks go out to 
Patrick Hogan — the developer of InControl, a nice cross platform input library for Unity that I can recommend, <a href="http://www.gallantgames.com/pages/incontrol-introduction">available here</a> —  for sparing the time to test around the issue and provide a fix.</p>

<p>In addition to taking on the new version of InControl, I’ve also moved over to XInput, so — in theory —  joypad support should be a 
little more robust on Windows going forward. (Crosses Fingers)</p>

<p>This build also fixes a possible bug with joypad “submit” actions not being registered by the pause screen UI, as well as turning 
off Unity’s bullshit “automatic” navigation option on some of the button layouts. Honestly, fuck that UI system.</p>

<h2 id="neutrino">Neutrino</h2>

<p>I’ve been doing a bit of train / weekend coding, so this has moved forward:</p>

<ul>
  <li>Finished off the Input system. You can now poll mouse and up to four joypads. Previously it only handled attach/dettach events.</li>
  <li>Added some keystate handling for specific inputs in editor modes (keyboard shortcuts, basically)</li>
  <li>Added a bunch of helper functions to quickly get sprites from texture pages</li>
  <li>Got the Tile Map editor to the point where you can select and place tiles, freely, or snapped to a grid</li>
</ul>

<p>Next job is to store that in something I can spit out and reload that’ll be the basis of the level data. I’ll probably do a very thin 
Command pattern wrapper over this so I can support unlimited Undo/Redo as well.</p>

<h2 id="next-game">Next Game</h2>

<p>I’ve been all over the shop with this the last couple of weeks:</p>

<ul>
  <li>Finished off the weapon-types code and added weapon pickups</li>
  <li>Player can now be killed, either through damage or falling out of the world</li>
  <li>Player respawns properly</li>
  <li>Added Ammo to the HUD</li>
  <li>Added decals, and spent a morning drawing swears on walls</li>
  <li>Added a new “Pain Room” to the test room, for traps and damage/stat tweaking</li>
  <li>Dipped my toe into Cascade, UE4’s particle system, and made some effects for pickups</li>
  <li>Started on a shotgun model for the first person view</li>
  <li>Added some new models for the ammunition pickpus</li>
</ul>

<p>The last item in that list has been my main diversion since the last post.</p>

<p>I know that I’m going to be doing a fair amount of modelling on this project so I’m still slowly schooling myself on workflows. For this, I decided 
to do some fairly high poly models of the pickup items and then bake them down to a low poly cage. Like everything, once I worked out how to 
do it, it’s reasonably straight forward, but it took a day or so to really get it working.</p>

<p>Building low poly cages seems to be a bit of an art, depending on the sorts of shapes you want, but after a lot of attempts I was able to bake AO and 
normals in Modo that looked pretty clean on the low poly asset, and came out clearly in-engine. I’m far from an expert at this, but it’s something I 
wanted to have in the toolbox even if I don’t use it very often.</p>

<p>I also spent a day or two messing about with Substance Painter. The “rent to own” model really appeals to me, as well as fitting in my budget, so I 
jumped on that. It’s a little unstable on my rig - I’ve had 4 or 5 really messy crashes - but when it’s working, it’s great. I doubt I’ll delve too 
deeply into the materials for this game, but anything that speeds up texturing is going to be worth the effort learning.</p>

<p>Now that Vine is dead I’ve started posting screenshots and little vids onto my Instagram account. You can keep an eye-out, <a href="https://www.instagram.com/garethnoyce/">here</a>.</p>

<p>Also, there’s been a big migration of developers from Twitter onto Mastodon.social. If you’re a twitter user then I don’t really need to explain why this 
is happening, but if not and you’re interested in a low traffic, Nazi-free open source Twitter-alike then <a href="https://mastodon.social">Mastodon</a> is worth 
checking out. I’m @korruptor as usual.</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page8">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page6">Newer</a>
    
  
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
